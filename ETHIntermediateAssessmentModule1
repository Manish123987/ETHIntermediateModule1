// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract ExampleContract {
    address private owner;
    uint public balance;
    mapping(address => uint) public balances;
    uint public totalSupply;

    constructor() {
        owner = msg.sender;
    }

    function depositEther() public payable {
        balances[msg.sender] += msg.value;
        totalSupply += msg.value;
        assert(address(this).balance >= totalSupply);
    }

    function withdrawEther(uint amount) public {
        require(balances[msg.sender] >= amount, "Insufficient balance");
        balances[msg.sender] -= amount;
        if (!payable(msg.sender).send(amount)) {
            revert("Failed to send funds");
        }
    }

    function sendEther(address payable addr) public payable {
        require(msg.value > 0, "Amount must be greater than 0");
        require(msg.sender == owner, "Only the owner can send ether");

        uint balanceBeforeTransfer = address(this).balance;
        (bool success, ) = addr.call{value: msg.value}("");
        require(success, "Transfer failed");

        assert(address(this).balance == balanceBeforeTransfer - msg.value);
    }
}
